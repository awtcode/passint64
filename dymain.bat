emcc main.cpp --pre-js preload.js -o build/main.js --proxy-to-worker -s NO_EXIT_RUNTIME=1 -s TOTAL_MEMORY=369098752 -s INLINING_LIMIT=1 -s FORCE_FILESYSTEM=1 -s DISABLE_EXCEPTION_CATCHING=0 -s MAIN_MODULE=1 -g3 -s INCLUDE_FULL_LIBRARY=1 -s ASSERTIONS=1 -s EXPORTED_FUNCTIONS=@exports.json  -s ERROR_ON_UNDEFINED_SYMBOLS=1 -s WASM_OBJECT_FILES=0 -flto -fPIC --profiling -Oz